<!-- PAGE SECTION -->
<section *ngIf="pricingPlans?.length>0" class="l-block l-block-text bg-white" [class.gap-p-eq]="!blockGapsZero">
  <div class="container">
    <header class="l-block-header position-relative text-center mb-4 mb-sm-5 mb-md-8" [hidden]="hideHeader">
      <div class="row justify-content-center">
        <div class="col-sm-12 col-md-10 position-sm-static px-sm-5 px-md-0">
          <h1 class="l-block-title fw-light text-uppercase text-secondary">
            <strong translate="home_header.pricing">Pricing</strong> <span translate="settings.plans">Plans</span>
          </h1>
          <h4 class="l-block-subtitle mb-0 text-dark fw-light" translate="page_pricing.do_not_show_ads">
            <p>CTemplar is the world's most secure & private email service based on an analysis of technical specifications.</p>
            <p>**CTemplar can not be used for sending spam or bulk emails</p>
          </h4>
        </div>
      </div>
    </header>
    <div class="l-block-body px-xs pricing-plans">

      <div class="row" style="margin:0 0.4rem;">
        <div class="col-3 p-0 plan-titles">
          <div class="pl-2 plan-item pt-4"><label class="pt-3">Plan & Price</label></div>
          <h3 class="heading mt-4">Packages</h3>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Number of emails allowed to send per day">Messages per day</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Attachment upload limit in MB">Attachment limit (MB)</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Storage in GB">Storage (GB)</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Email aliases">Aliases</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Custom domains">Custom domains</div>
          <h3 class="heading mt-4">Features</h3>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Encryption in transit(SSL/TLS)">Encryption in transit(SSL/TLS)</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Encrypted attachments">Encrypted attachments <sup> (Coming soon)</sup></div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Encrypted content">Encrypted content</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Encrypted contacts">Encrypted contacts</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Encrypted subjects">Encrypted subjects</div>
          <div class="bold px-2 py-3 plan-sub-item">Encrypted metadata <sup> (Coming soon)</sup></div>
          <div class="bold px-2 py-3 plan-sub-item">Virus detection tool <sup> (Coming soon)</sup></div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Two factor authentication">2 Factor authentication</div>
          <div class="bold px-2 py-3 plan-sub-item">Anti phishing</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Brute force protection">Brute force protection</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Zero knowledge passwords">Zero knowledge passwords</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Strips IP address from headers">Strips IP from headers</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Unhackable by others with SRI">Unhackable by others with SRI</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Unhackable by us with checksums">Unhackable by us with checksums</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Multi user support under custom domains">Multi user support</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Self destructing emails">Self destructing emails</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Dead man timer">Dead man timer</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Delayed delivery">Delayed delivery</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Catch all emails of a custom domain">Catch all emails</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Unlimited folders">Unlimited folders</div>
          <div class="bold px-2 py-3 plan-sub-item" ngbTooltip="Exclusive access to new features">Exclusive access to new features</div>

        </div>
        <div class="col-9">
          <div class="row">
            <div *ngFor="let plan of pricingPlans" class="col-2 p-0">
              <div class="plan-item">
                <div class="text-center">
                  <div class="bold mt-3">{{plan.name}}</div>
                  <div class="plan-title-info" *ngIf="plan.name!==planType.FREE; else freePlan">
                    <div class="monthly-price">$<b>{{plan.monthly_price}}</b>/m</div>
                    <div>billed as ${{plan.annually_price}}/y</div>
                  </div>
                  <ng-template #freePlan>
                    <div class="plan-title-info">Upgrade<br>anytime</div>
                  </ng-template>
                  <a class="btn cursor-pointer select-btn" [style.background]="plan.background"
                     *ngIf="userPlanType!==plan.name; else currentPlan" (click)="selectPlan(plan.name)">Select</a>
                  <ng-template #currentPlan>
                    <label class="current-plan-upgrade" *ngIf="paymentType===paymentTypeEnum.MONTHLY && plan.name!==planType.FREE">
                      <a (click)="selectPlan(plan.name, paymentTypeEnum.ANNUALLY)">Upgrade yearly</a>
                    </label>
                    <label [ngClass]="paymentType===paymentTypeEnum.MONTHLY?'current-plan':'current-plan-upgrade'">
                      Current plan</label>
                  </ng-template>
                </div>
              </div>
              <h3 class="heading mt-4"></h3>
              <div class="px-2 py-3 plan-sub-item">{{plan.messages_per_day}}</div>
              <div class="px-2 py-3 plan-sub-item">{{plan.attachment_upload_limit}}</div>
              <div class="px-2 py-3 plan-sub-item">{{plan.gb}}</div>
              <div class="px-2 py-3 plan-sub-item">{{plan.aliases}}</div>
              <div class="px-2 py-3 plan-sub-item">{{plan.custom_domains}}</div>
              <h3 class="heading mt-4"></h3>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.ssl_tls}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.encrypted_attachments}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.encrypted_content}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.encrypted_contacts}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.encrypted_subjects}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.encrypted_metadata}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.virus_detection_tool}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.two_fa}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.anti_phishing}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.brute_force_protection}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.zero_knowledge_password}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.strip_ips}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.sri}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.checksums}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.multi_user_support}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.self_destructing_emails}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.dead_man_timer}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.delayed_delivery}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.catch_all_email}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.unlimited_folders}"></ng-container>
              <ng-container *ngTemplateOutlet="featureIcon;context: {value:plan.exclusive_access}"></ng-container>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <!-- /.Site container ends -->
</section>
<!-- /.PAGE SECTION ENDS -->
<div align="center" *ngIf="pricingPlans?.length===0">
  <img class="logo" style="width: 200px; height: 300px;" [src]="loadingImage | safe:'url'"/>
</div>

<ng-template #featureIcon let-value="value">
  <div class="px-2 py-3 plan-sub-item">
    <i class="fa fa-check text-green" *ngIf="value"></i>
    <i class="fa fa-times text-danger" *ngIf="!value"></i>
  </div>
</ng-template>

<!-- billing info modal -->
<ng-template #billingInfoModal let-c="close" let-d="dismiss">
  <div class="billing-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="d()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body bg-faded px-3 py-0 bg-white">
    <app-users-billing-info [isUpgradeAccount]="true"
                            [planType]="selectedPlan"
                            [paymentType]="selectedPaymentType"
                            [paymentMethod]="paymentMethod"
                            [currency]="selectedCurrency"
                            (close)="d()"></app-users-billing-info>
  </div>
</ng-template><!-- /.billing info modal ends -->
