<aside id="mailbox-sidebar" class="mailbox-sidebar is-sidebar-expandedx" role="complementary">
    <div class="mailbox-sidebar-inner">

        <div class="mailbox-brand">
            <button class="navbar-toggler hidden-md-up" role="button">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggle-text">Menu</span>
            </button>
            <figure class="navbar-brand-holder hidden-sm-down">
                <a class="navbar-brand ff-roboto text-uppercase" routerLink="/mail">
                    <img alt="Ctemplar Logo" class="navbar-brand-logo" src="assets/images/logo.svg"/>
                    <strong>ctemplar</strong>
                </a>
            </figure>
            <div class="prime-account-content">
                <i class="icon icon-secure-shield"></i>
                <span class="prime-account-text">Prime</span>
            </div>
        </div>

        <div class="mail-compose-section hidden-xs-down">
            <button class="btn btn-lg btn-primary mailbox-btn mailbox-compose-btn btn-xs-squared has-icon" role="button"
                    (click)="showMailComposeModal();">
                <i class="icon icon-plus text-white hidden-md-up"></i>
                <span class="mailbox-btn-text hidden-sm-down" translate="common.compose">Compose</span>
            </button>
        </div>

        <nav class="mailbox-sidebar-navbar">
            <ul class="mailbox-sidebar-nav">
                <li class="mailbox-sidebar-nav-item" routerLinkActive="active">
                    <a routerLink="/mail/inbox" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-inbox"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.inbox">Inbox</span>
                        <span class="badge badge-square hidden-sm-down" *ngIf="inboxUnreadCount>0">{{inboxUnreadCount}}</span>
                        <span class="badge badge-sm badge-square hidden-md-up">1234</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/draft" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-draft"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.draft">Draft</span>
                        <span class="badge badge-square hidden-sm-down" *ngIf="draftCount>0">{{draftCount}}</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/sent" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-paper-plane"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.sent">Sent</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/outbox" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-draft"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.outbox">Outbox</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/starred" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-star"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.starred">Starred</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/archive" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-archive"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.archive">Archive</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/spam" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-warning"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.spam">Spam</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active">
                    <a routerLink="/mail/trash" class="mailbox-sidebar-nav-link">
                        <i class="icon icon-garbage"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.trash">Trash</span>
                    </a>
                </li>

                <!-- Custom Folder -->
                <li class="divider-item my-0"></li>
                <li class="mailbox-sidebar-nav-item">
                    <a class="mailbox-sidebar-nav-link" (click)="open()">
                        <i class="icon icon-folder"></i>
                        <span class="mailbox-sidebar-nav-label" translate="mail_sidebar.add_folder">Add folder</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item"  routerLinkActive="active" *ngFor="let folder of mailBoxesState.customFolders|slice:0:LIMIT; let i=index;">
                    <a routerLink="/mail/{{folder}}" class="mailbox-sidebar-nav-link">
                        <i class="folder-color-box icon is-success" [ngClass]="{'is-info': i%2 === 0, 'is-warning': i%3 === 0}"></i>
                        <span class="mailbox-sidebar-nav-label text-capitalize" translate="mail_sidebar.trash">{{folder}}</span>
                    </a>
                </li>
                <li class="mailbox-sidebar-nav-item" *ngIf="mailBoxesState?.customFolders?.length >= LIMIT">
                    <a (click)="toggleDisplayLimit(mailBoxesState.customFolders.length)" class="mailbox-sidebar-nav-link">
                        <span class="mailbox-sidebar-nav-label text-capitalize">
                            {{LIMIT === mailBoxesState.customFolders.length? 'Less' : 'More'}}
                        </span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="mailbox-sidebar-footer text-center mt-4 py-2">
                <div class="mailbox-sidebar-footer-text mb-0 mb-md-1 visible-in-sm" translate="mail_sidebar.used">Used
                <div class="text-white mt-1">43 MB</div>
            </div>
            <div class="mailbox-sidebar-footer-text hidden-in-sm">
                <span translate="common.used_storage">Used storage</span>: {{settings?.used_storage | filesize}} of {{settings?.allocated_storage | filesize:'MB'}}</div>
            <a href="" class="btn-link text-white hidden-in-sm">
                <small>
                    <u translate="common.upgrade_account">Upgrade account</u>
                </small>
            </a>
        </div>

    </div>
</aside>

<!-- Compose button to be used in small screens -->
<div class="btn-xs-holder is-sticky hidden-sm-up">
    <button class="btn btn-primary mailbox-btn mailbox-compose-btn btn-xs-rounded has-icon" role="button"
            placement="top" [ngbTooltip]="'common.compose' | translate" (click)="showMailComposeModal();"><i
            class="icon icon-plus text-white"></i></button>
</div>

<!-- Mail compose dialog -->
<app-compose-mail-dialog [isComposeVisible]="isComposeVisible" (hide)="isComposeVisible=false;"></app-compose-mail-dialog>